<!-- <% layout("./layout/boilerplate")%>

   <div class="row">
    <div class="col-8 offset-2">
        <h1>Create New Listing</h1>
        <form method="post" action="/listings"class="needs-validation" novalidate enctype="multipart/form-data">
        <div class="mb-3">
            <label for="title" class="form-label">Title</label>
            <input name="listing[title]" placeholder="Enter title" type="text" class="form-control" required>
            <div class="valid-feedback">
               Title Looks good!
              </div>
              <div class="invalid-feedback">    
                Please enter Valid Title !
              </div>
        </div>

        <div class="mb-3">
            <label for="description" class="form-label">Description</label>
            <textarea class="form-control" name="listing[description]" placeholder="Enter description" required></textarea>
            <div class="invalid-feedback">
                Please enter a message in the textarea.
              </div>
        </div>

        <div class="mb-3">
          <label for="image" class="form-label">Upload Listing Image</label>
      <input  name="listing[image]" type="file" class="form-control">
      </div>

            <div class="row">
        <div class="mb-3 col-md-4">
            <label for="price" class="form-label">Price</label>
            <input name="listing[price]" placeholder="Enter price"  class="form-control" required>
            <div class="valid-feedback">
                Looks good!
              </div>
              <div class="invalid-feedback">
                Please enter a Valid Price
              </div>
        </div>

        <div class="mb-3 col-md-8">
            <label for="country" class="form-label">Country</label>
        <input name="listing[country]" placeholder="Enter country" type="text" class="form-control" required>
        <div class="valid-feedback">
            Looks good!
          </div>
          <div class="invalid-feedback">
            Please enter a valid country !!
          </div>
        </div>
    </div>

        <div class="mb-3">
            <label for="location" class="form-label">location</label>
            <input name="listing[location]" placeholder="Enter location" type="text" class="form-control" required>
            <div class="valid-feedback">
                Looks good!
              </div>
              <div class="invalid-feedback">
                Please enter a valid location !!
              </div>
        </div>
        
        <br><br>
        <button class="btn btn-dark add-btn">Add</button>
    </form>
</div>
</div> -->

<!-- //pieces code -->
<div class="row mt-3">
  <div class="col-8 offset-2">
    <div class="card shadow-lg">
      <div class="card-body">
        <h1 class="card-title text-center mb-4">Add your Airbnb</h1>
        
        <form action="/listings" method="POST" class="needs-validation" novalidate enctype="multipart/form-data">
          <!-- Title Input with Icon -->
          <div class="mb-3">
            <label for="title" class="form-label">
              <i class="fas fa-heading me-2 icon"></i>Title
            </label>
            <input name="listing[title]" placeholder="Enter a catchy title" type="text" class="form-control" required />
            <div class="valid-feedback">Looks good!</div>
          </div>

          <!-- Description Input with Rich Text -->
          <div class="mb-3">
            <label for="description" class="form-label">
              <i class="fas fa-align-left me-2 icon"></i>Description
            </label>
            <textarea name="listing[description]" placeholder="Write an amazing description" class="form-control" required></textarea>
            <div class="valid-feedback">Looks good!</div>
          </div>

          <!-- Image Upload with Preview -->
          <div class="mb-3">
            <label for="image" class="form-label">
              <i class="fas fa-images me-2 icon"></i>Upload Images
            </label>
            <input name="listing[image]" type="file" class="form-control" required />
            <div id="imagePreview" class="mt-2"></div>
          </div>

          <!-- Price Input with Currency Symbol -->
          <div class="mb-3">
            <label for="price" class="form-label">
              <i class="fas fa-tag me-2 icon "></i>Price
            </label>
            <div class="input-group">
              <span class="input-group-text">â‚¹</span>
              <input name="listing[price]" placeholder="1000" type="number" class="form-control" required />
            </div>
          </div>

          <!-- Location with Map Icon -->
          <div class="mb-3">
            <label for="location" class="form-label">
              <i class="fas fa-map-marker-alt me-2 icon"></i>Location
            </label>
            <input name="listing[location]" placeholder="City, Country" type="text" class="form-control" required />
          </div>

          <!-- Country Selection -->
          <div class="mb-3">
            <label for="country" class="form-label">
              <i class="fas fa-globe me-2 icon "></i>Country
            </label>
            <select name="listing[country]" class="form-select" required>
              <option value="">Select a country</option>
              <option value="United States">United States</option>
              <option value="Canada">Canada</option>
              <option value="India">India</option>
              <option value="United Kingdom">United Kingdom</option>
              <!-- Add more countries as needed -->
            </select>
          </div>

          <!-- Submit Button with Animation -->
          <div class="d-grid gap-2">
            <button class="btn btn-dark btn-lg hover-effect add-listing-btn">
              <i class="fas fa-plus-circle me-2 icon"></i>Add Listing
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <script>
    document.querySelector('input[type="file"]').addEventListener('change', function(e) {
      const preview = document.getElementById('imagePreview');
      preview.innerHTML = '';
      
      for(let file of e.target.files) {
        const reader = new FileReader();
        reader.onload = function(event) {
          const img = document.createElement('img');
          img.src = event.target.result;
          img.style.height = '100px';
          img.style.margin = '5px';
          img.style.borderRadius = '5px';
          preview.appendChild(img);
        }
        reader.readAsDataURL(file);
      }
    });
  </script>
